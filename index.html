<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Abdullahinur â€” Orbit Hero</title>
  <meta name="theme-color" content="#1A2318" />

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --green:#1A2318;  /* deep brutalist green */
      --lime: #C6E376;  /* accent lime */
      --cream:#ffffff;  /* background */
    }
    html, body { overflow-x:hidden; background:var(--cream); }
    body { font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color: var(--green); }
    .nav-a{ position:relative; }
    .nav-a::after{
      content:""; position:absolute; left:0; bottom:-6px; height:2px; width:0;
      background:var(--green); transition: width .25s ease;
    }
    .nav-a:hover::after{ width:100%; }

    /* Canvas fills hero */
    #ringsCanvas{ display:block; width:100%; height:100%; }

    /* SVG film grain overlay (animated fractal noise) */
    .grain{
      opacity: .3;            /* subtle! */
      mix-blend-mode:multiply;
      pointer-events:none;
    }
    @media (prefers-reduced-motion: reduce){
      .grain{ opacity:.06; }  /* quieter if user prefers less motion */
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <header class="relative z-10">
    <div class="max-w-6xl mx-auto flex items-center justify-between px-6 md:px-10 py-5">
      <div class="uppercase tracking-widest text-sm">Portfolio</div>
      <nav class="hidden md:flex gap-8 uppercase tracking-widest text-sm">
        <a href="#work" class="nav-a">Work</a>
        <a href="#about" class="nav-a">About</a>
        <a href="#contact" class="nav-a">Contact</a>
      </nav>
      <div class="md:hidden w-3 h-3 rounded-full" style="background:var(--green)"></div>
    </div>
    <div class="max-w-6xl mx-auto px-6 md:px-10">
      <div class="h-0 border-t-2" style="border-color:var(--green)"></div>
    </div>
  </header>

  <!-- HERO: Orbiting dot rings + film grain -->
  <section id="hero3d" class="relative min-h-[90vh] bg-white overflow-hidden">
    <!-- WebGL -->
    <canvas id="ringsCanvas" class="absolute inset-0 w-full h-full pointer-events-none"></canvas>

    <!-- Film grain overlay (SVG) -->
    <svg class="grain absolute inset-0 w-full h-full" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
      <filter id="noiseFilter">
        <feTurbulence type="fractalNoise" baseFrequency="0.75" numOctaves="4" stitchTiles="stitch">
          <animate attributeName="baseFrequency" values="0.65;0.85;0.65" dur="6s" repeatCount="indefinite"/>
        </feTurbulence>
        <feColorMatrix type="saturate" values="0"/>
      </filter>
      <rect width="100%" height="100%" filter="url(#noiseFilter)"></rect>
    </svg>
  </section>

  <!-- Filler content -->
  <section class="py-24 md:py-36">
    <div class="max-w-6xl mx-auto px-6 md:px-10">
      <h2 class="text-2xl md:text-3xl font-semibold">Next Section</h2>
      <p class="mt-4 max-w-2xl text-black/70">Add About / Work here. The hero is pure WebGL.</p>
      <div class="mt-10 h-0 border-t" style="border-color:#ddd"></div>
    </div>
  </section>

  <!-- Three.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.min.js"></script>

  <script>
  (() => {
    const canvas = document.getElementById('ringsCanvas');
    const scene  = new THREE.Scene();
    scene.background = new THREE.Color('#ffffff');

    const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 100);
    camera.position.set(0, 0, 7.2); // pulled back to fit wider rings

    const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:false });
    function setSize(){
      const parent = canvas.parentElement;
      const w = parent.clientWidth;
      const h = parent.clientHeight;
      renderer.setSize(w, h, false);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 1.5));
      camera.aspect = w / h;
      camera.updateProjectionMatrix();
    }
    setSize();
    window.addEventListener('resize', setSize);

    // Soft ambient light so spheres have gentle shading
    scene.add(new THREE.AmbientLight(0xffffff, 0.95));

    // Factory: centered ring of dot spheres (orbits via group rotation)
    function makeDotRing({
      radius = 2.0,
      count = 20,
      dotRadius = 0.035,
      color = '#1A2318',
      tiltX = Math.PI * 0.3,
      tiltY = Math.PI * 0.1
    } = {}) {
      const mat  = new THREE.MeshStandardMaterial({ color, roughness:0.35, metalness:0.25 });
      const geom = new THREE.SphereGeometry(dotRadius, 16, 16);

      const group = new THREE.Group();
      group.rotation.x = tiltX;
      group.rotation.y = tiltY;

      // evenly spaced dots
      for (let i = 0; i < count; i++) {
        const a = (i / count) * Math.PI * 2;
        const x = Math.cos(a) * radius;
        const y = Math.sin(a) * radius;
        const dot = new THREE.Mesh(geom, mat);
        dot.position.set(x, y, 0);
        group.add(dot);
      }
      scene.add(group);
      return group;
    }

    // Rings (inner / middle / outer)
    const ringInner = makeDotRing({
      radius: 2.1,
      count: 20,
      dotRadius: 0.036,
      color: '#1A2318',
      tiltX: Math.PI * 0.22,
      tiltY: Math.PI * 0.15
    });

    const ringMiddle = makeDotRing({
      radius: 2.7,              // between inner and outer
      count: 20,
      dotRadius: 0.034,
      color: '#6E8256',         // muted olive to stay on-brand
      tiltX: Math.PI * 0.62,    // tilted further apart
      tiltY: -Math.PI * 0.18
    });

    const ringOuter = makeDotRing({
      radius: 3.3,
      count: 20,
      dotRadius: 0.032,
      color: '#C6E376',
      tiltX: Math.PI * 0.40,
      tiltY: -Math.PI * 1.00
    });

    // Respect reduced motion
    const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    const clock = new THREE.Clock();
    function tick(){
      if (!prefersReduced) {
        const t = clock.getElapsedTime();
        // Counter-rotations for depth
        ringInner.rotation.z  =  t * 0.42;
        ringMiddle.rotation.z = -t * 0.34;
        ringOuter.rotation.z  =  t * 0.28;
      }
      renderer.render(scene, camera);
      requestAnimationFrame(tick);
    }
    tick();
  })();
  </script>
</body>
</html>
