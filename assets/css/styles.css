/* ===================== TOKENS ===================== */
:root{
  --ink:#0B0B0B;
  --bg:#F7F7F2;
  --paper:#FFFFFF;
  --accent:#C6E376;
  --accent-2:#FF3B30;

  --border:4px;
  --radius:4px;

  --wrap:1200px;

  --space-1:8px;
  --space-2:14px;
  --space-3:20px;
  --space-4:28px;
  --space-5:40px;
  --space-6:60px;

  /* Halftone controls */
  --dot-size: 3px;
  --dot-alpha: .32;
  --dot-color: #0d0d0d;
}

/* ===================== BASE ===================== */
*{ box-sizing:border-box; }
html, body{ height:100%; }
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  overflow-x:hidden; /* keep hard stop */
}
img{ max-width:100%; height:auto; display:block; }
a{ color:inherit; text-decoration:none; }
.wrap{ max-width:var(--wrap); margin-inline:auto; padding-inline:22px; width:100%; }

/* Optional brutal frame */
.frame{
  position:fixed; inset:12px; border:var(--border) solid var(--ink);
  pointer-events:none; z-index:999;
}

/* ===================== HEADER ===================== */
.header{
  background:var(--paper);
  border-bottom:var(--border) solid var(--ink);
  position:sticky; top:0; z-index:50;
}
.header-row{
  display:flex; align-items:center; justify-content:space-between;
  padding-block:12px;
}
.brand{
  font-family: Anton, Impact, Inter, sans-serif;
  font-size:1.12rem; letter-spacing:.06em;
}

/* Desktop primary nav (single rule to avoid conflicting top offsets) */
.nav{
  display:flex; gap:10px; position:relative; top:4px; flex-wrap:wrap;
}
.pill{
  display:inline-flex; align-items:center; height:40px; padding:0 12px;
  font-weight:800; border:var(--border) solid var(--ink); border-radius:2px; background:var(--paper);
}
.pill--accent{ background:var(--accent); }

/* Hover + focus */
.pill:hover,
.btn:hover{ transform:translate(-3px,-3px); box-shadow:6px 6px 0 var(--ink); transition:.08s; }
.pill:focus-visible,
.btn:focus-visible{ outline:3px dashed var(--ink); outline-offset:2px; }

@media (max-width:560px){
  .nav{ overflow-x:auto; -webkit-overflow-scrolling:touch; gap:8px; padding-bottom:2px; }
  .nav::-webkit-scrollbar{ display:none; }
}

/* Mobile hamburger */
.menu{
  display:none;
  height:40px; padding:0 12px;
  font-weight:800;
  border:var(--border) solid var(--ink);
  border-radius:2px; background:var(--paper);
  align-items:center; gap:10px; cursor:pointer;
}
.menu__label{ font-family:"IBM Plex Mono", ui-monospace, Menlo, Consolas, monospace; }
.menu__icon{
  width:22px; height:14px; position:relative; display:inline-block;
  background:linear-gradient(var(--ink),var(--ink)) left 0 top 6px / 100% var(--border) no-repeat;
}
.menu__icon::before,
.menu__icon::after{
  content:""; position:absolute; left:0; right:0; height:0;
  border-top:var(--border) solid var(--ink);
  transition: transform .18s ease, top .18s ease, opacity .18s ease;
}
.menu__icon::before{ top:0; }
.menu__icon::after{ top:10px; }
body.nav-open .menu__icon{ background-size:0 0; }
body.nav-open .menu__icon::before{ top:5px; transform:rotate(45deg); }
body.nav-open .menu__icon::after{ top:5px; transform:rotate(-45deg); }

/* Mobile overlay nav (full screen) */
@media (max-width:760px){
  .menu{ display:inline-flex; }
  .nav{
    position:fixed; inset:0; z-index:80;
    background:var(--paper);
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    gap:14px; padding:24px;
    transform:translateY(-100%); opacity:0;
    transition: transform .22s ease-out, opacity .22s ease-out;
    top:0; left:0; right:0; bottom:0;
  }
  body.nav-open .nav{ transform:translateY(0); opacity:1; }

  .nav .pill{
    width:min(86vw, 340px);
    height:54px; justify-content:center; font-size:1.05rem;
    box-shadow:8px 8px 0 var(--ink);
  }
  .header-row{ padding-block:10px; }
  body:not(.nav-open) .nav .pill{ pointer-events:none; visibility:hidden; }
  body.nav-open .nav .pill{ pointer-events:auto; visibility:visible; }
}
body.nav-open { overflow:hidden; }

.nav__close{
  position:absolute; top:16px; right:16px;
  height:40px; padding:0 12px;
  font-weight:800; border:var(--border) solid var(--ink);
  border-radius:2px; background:var(--paper); cursor:pointer;
  box-shadow:6px 6px 0 var(--ink);
}
@media (max-width:760px){
  .nav{ z-index:100; }
  .nav__close:hover{ transform:translate(-3px,-3px); }
}

/* ===================== HERO ===================== */
.hero{
  background:var(--paper);
  border-bottom:var(--border) solid var(--ink);
}
.hero .wrap{ padding-block: clamp(28px, 6vh, 70px); }

.hero-grid{
  display:grid; grid-template-columns: 1.05fr .95fr; gap:28px; align-items:start;
}

/* Left column */
.kicker{
  display:flex; align-items:center; gap:10px; margin:0 0 var(--space-2);
  font-family:"IBM Plex Mono", ui-monospace, Menlo, Consolas, monospace;
  letter-spacing:.06em;
}
.dot{ width:10px; height:10px; background:var(--ink); border-radius:999px; display:inline-block; }

.hero-title{
  margin:0 0 var(--space-2);
  font-family: Anton, Impact, Inter, sans-serif;
  text-transform: uppercase;
  font-size: clamp(2.2rem, 6.4vw, 5rem);
  line-height:.94; letter-spacing:.01em;
  overflow-wrap:anywhere;        /* prevent long-word overflow on tiny screens */
}
.strike{
  display:inline-block; padding:0 .2em; background:var(--accent);
  border:var(--border) solid var(--ink); transform:skew(-4deg);
}

/* Word rotator */
.rotator{ display:inline-block; min-width: 7ch; }
.rot{ display:none; }
.rot.is-active{ display:inline; }

.lead{ margin:0 0 var(--space-3); font-size:1.05rem; max-width:60ch; }
.cta-row{ display:flex; gap:10px; flex-wrap:wrap; margin-bottom:var(--space-2); }
.btn{
  display:inline-flex; align-items:center; justify-content:center; min-height:46px; padding:0 18px;
  font-weight:800; border-radius:2px; border:var(--border) solid var(--ink);
}
.btn--solid{ background:var(--ink); color:#fff; }
.btn--ghost{ background:var(--paper); }

.meta{
  display:flex; gap:10px; list-style:none; padding:0; margin:0; flex-wrap:wrap;
}
.meta li{ padding:6px 10px; border:var(--border) solid var(--ink); font-weight:800; background:#fff; }

/* ===================== SINGLE-IMAGE HERO ===================== */
.col-media{
  display:grid;
  place-items:start end;
  min-height:500px;
}
.hero-media{
  position:relative; overflow:hidden; background:#fff;
  border:var(--border) solid var(--ink); box-shadow:8px 8px 0 var(--ink);
  width: clamp(260px, 38vw, 460px); /* desktop/tablet container-friendly */
  max-width:100%;                   /* hard stop inside .wrap */
  aspect-ratio: 4 / 5;
}
.hero-media img{
  width:100%; height:100%; object-fit:cover;
  filter: grayscale(100%) contrast(112%);
  transition:.18s transform, .18s filter;
}
.hero-media:hover img{ transform:scale(1.02); filter:none; }
.hero-media figcaption{
  position:absolute; left:0; right:0; bottom:0;
  display:flex; gap:8px; align-items:center; font-weight:800;
  padding:8px 12px; background:#fff; border-top:var(--border) solid var(--ink);
  z-index:3;
}

/* Halftone */
.hero-media::after,
.card__media::after,
.about__photo::after{
  content:""; position:absolute; inset:0; pointer-events:none; z-index:2;
  background-image: radial-gradient(currentColor 38%, transparent 39%);
  background-size: var(--dot-size) var(--dot-size);
  color: var(--dot-color); mix-blend-mode: multiply; opacity: var(--dot-alpha);
}
.card__media img,
.about__photo img{ filter: grayscale(100%) contrast(115%); }
@media (min-width:1280px){ :root{ --dot-size: 3.5px; } }
@media (max-width:760px){  :root{ --dot-size: 2.6px; } }
.no-halftone::after{ display:none !important; }

/* Variant B */
.hero-media--bleed{
  border:none; box-shadow:none;
  width: clamp(320px, 46vw, 560px);
  max-width:100%;
  transform: translate(4px, 4px);
}
.hero-media--bleed img{
  border:var(--border) solid var(--ink);
  box-shadow:8px 8px 0 var(--ink);
}
.hero-media--bleed figcaption{
  position:static; border-top:var(--border) solid var(--ink); margin-top:8px;
}

/* Marquee */
.marquee{
  overflow:hidden; border-top:var(--border) solid var(--ink); border-bottom:var(--border) solid var(--ink);
  background:#fff;
}
.marquee__track{
  display:flex; gap:40px; white-space:nowrap; font-weight:800; padding-block:10px; padding-left:10px;
  animation: marquee 18s linear infinite;
}
@keyframes marquee{ to { transform: translateX(-50%);} }

/* ===================== SECTIONS (shared) ===================== */
.section{
  background:#fff; border-bottom:var(--border) solid var(--ink);
  padding-block: clamp(30px, 8vh, 80px);
}
.section-head{
  display:flex; align-items:flex-end; justify-content:space-between; gap:var(--space-2); margin-bottom:var(--space-3);
}
.section-title{
  margin:0; font-family: Anton, Impact, Inter, sans-serif; text-transform:uppercase;
  font-size: clamp(1.8rem, 4.6vw, 3.2rem);
}
.eyebrow{
  margin:0; font-family:"IBM Plex Mono", ui-monospace, Menlo, Consolas, monospace; font-size:.95rem;
}

/* ===================== WORK ===================== */
.work-grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap:18px; }
.card{
  border:var(--border) solid var(--ink); background:#fff; box-shadow:8px 8px 0 var(--ink); border-radius:2px;
  display:grid; grid-template-rows:auto 1fr auto; overflow:hidden;
}
.card--project{ grid-column: span 6; }
.card__media{ position:relative; overflow:hidden; }
.card__media img{ width:100%; height: clamp(200px, 26vh, 340px); object-fit:cover; }
.card__media figcaption{ display:flex; align-items:center; gap:8px; font-weight:800; border-top:var(--border) solid var(--ink); padding:8px 12px; }
.card__body{ padding:16px 16px 10px; }
.card__title{ margin:0 0 6px; font-size:1.5rem; font-weight:800; }
.card__copy{ margin:0 0 12px; }
.chips{ display:flex; gap:8px; list-style:none; padding:0; margin:0; flex-wrap:wrap; }
.chips li{ padding:6px 8px; border:var(--border) solid var(--ink); font-weight:800; }
.card__cta{
  display:flex; align-items:center; justify-content:center; height:50px;
  border-top:var(--border) solid var(--ink); font-weight:800; background:var(--accent);
}
.card__cta:hover{ background:var(--ink); color:#fff; }

/* ===================== PROCESS ===================== */
.section--process{ position:relative; }
.steps{
  display:grid; grid-template-columns: repeat(12, 1fr); gap:16px; list-style:none; padding:0; margin:0;
}
.step{
  grid-column: span 4;
  border:var(--border) solid var(--ink); padding:16px; background:#fff; box-shadow:8px 8px 0 var(--ink);
}
.step h3{ margin:6px 0 6px; font-size:1.2rem; }
.step p{ margin:0; color:#222; }
.num{
  display:inline-flex; align-items:center; justify-content:center;
  width:44px; height:44px; border:var(--border) solid var(--ink); background:var(--accent); font-weight:800;
}

/* ===================== SERVICES ===================== */
.svc-grid{ display:grid; grid-template-columns: repeat(12,1fr); gap:16px; }
.svc{
  grid-column: span 4; border:var(--border) solid var(--ink); background:#fff; padding:16px;
  box-shadow:8px 8px 0 var(--ink);
}
.svc h3{ margin:0 0 8px; font-size:1.2rem; }
.svc ul{ margin:0; padding-left:18px; }

/* ===================== ABOUT ===================== */
.about-grid{
  display:grid; grid-template-columns: 1fr 1.1fr; gap:18px; align-items:start;
}
.about__photo{
  border:var(--border) solid var(--ink); background:#fff; box-shadow:8px 8px 0 var(--ink);
  position:relative; overflow:hidden;
}
.about__photo img{ width:100%; height: clamp(280px, 40vh, 420px); object-fit:cover; }
.about__photo figcaption{ border-top:var(--border) solid var(--ink); padding:8px 12px; font-weight:800; display:flex; gap:8px; align-items:center; }
.about__copy .chips{ margin: 12px 0 16px; }

/* ===================== CONTACT ===================== */
.section--contact{ background:var(--accent); }
.contact-box{
  border:var(--border) solid var(--ink); background:#fff; padding:22px; border-radius:2px;
  box-shadow:8px 8px 0 var(--ink);
}
.contact-title{ margin:0 0 6px; font-size: clamp(1.8rem, 5vw, 3rem); font-family: Anton, Impact, Inter, sans-serif; text-transform:uppercase; }
.contact-sub{ margin:0 0 14px; }

/* ===================== FOOTER ===================== */
.footer{ background:#fff; }
.footer-row{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding-block:16px; border-top:var(--border) solid var(--ink);
  font-family:"IBM Plex Mono", ui-monospace, Menlo, Consolas, monospace;
}

/* ===================== LARGE SCREENS ===================== */
@media (min-width:1280px){
  :root{ --wrap:1280px; }
  .card--project{ grid-column: span 4; }
}

/* ===================== TABLET ===================== */
@media (max-width:980px){
  .hero-grid{ grid-template-columns:1fr; gap:20px; }
  .col-media{ min-height:420px; order:2; }
  /* IMPORTANT: make widths container-relative, not vw */
  .hero-media{ width:min(100%, 440px); }
  .hero-media--bleed{ width:min(100%, 520px); }

  .work-grid .card--project{ grid-column:span 12; }
  .about-grid{ grid-template-columns:1fr; }
}

/* ===================== MOBILE ===================== */
@media (max-width:760px){
  :root{ --border:3px; }

  .frame{ inset:10px; }
  .header-row{ padding-block:10px; }
  .hero .wrap{ padding-block:26px; }

  .col-media{ min-height:360px; place-items:center; }
  /* IMPORTANT: keep widths inside the padded .wrap */
  .hero-media{
    width:min(100%, 380px);
    box-shadow:6px 6px 0 var(--ink);
  }
  .hero-media--bleed{
    width:min(100%, 420px);
    transform:translate(2px, 2px);
  }

  .steps .step,
  .svc-grid .svc{ grid-column:span 12; }
}

/* Tiny phones */
@media (max-width:420px){
  .col-media{ min-height:320px; }
  .hero-media{ width:100%; }
}

/* ===================== PREFERENCES ===================== */
@media (prefers-reduced-motion: reduce){
  .pill:hover, .btn:hover{ transform:none; box-shadow:none; }
  .hero-media:hover img{ transform:none; }
  .marquee__track{ animation:none; }
}

/* Shared small bits */
.tag{
  display:inline-block; padding:2px 6px; border:var(--border) solid var(--ink);
  background:var(--accent); line-height:1; font-size:.82rem;
}
